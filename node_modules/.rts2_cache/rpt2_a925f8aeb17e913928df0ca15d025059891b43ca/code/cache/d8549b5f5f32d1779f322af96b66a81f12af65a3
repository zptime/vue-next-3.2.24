{"code":"import { isFunction, isObject } from '@vue/shared';\r\nimport { checkCompatEnabled, softAssertCompatEnabled } from './compatConfig';\r\nimport { convertLegacyAsyncComponent } from './componentAsync';\r\nimport { convertLegacyFunctionalComponent } from './componentFunctional';\r\nexport function convertLegacyComponent(comp, instance) {\r\n    if (comp.__isBuiltIn) {\r\n        return comp;\r\n    }\r\n    // 2.x constructor\r\n    if (isFunction(comp) && comp.cid) {\r\n        comp = comp.options;\r\n    }\r\n    // 2.x async component\r\n    if (isFunction(comp) &&\r\n        checkCompatEnabled(\"COMPONENT_ASYNC\" /* COMPONENT_ASYNC */, instance, comp)) {\r\n        // since after disabling this, plain functions are still valid usage, do not\r\n        // use softAssert here.\r\n        return convertLegacyAsyncComponent(comp);\r\n    }\r\n    // 2.x functional component\r\n    if (isObject(comp) &&\r\n        comp.functional &&\r\n        softAssertCompatEnabled(\"COMPONENT_FUNCTIONAL\" /* COMPONENT_FUNCTIONAL */, instance, comp)) {\r\n        return convertLegacyFunctionalComponent(comp);\r\n    }\r\n    return comp;\r\n}\r\n","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/component.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/compat/compatConfig.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/compat/componentAsync.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/compat/componentFunctional.ts"]}
