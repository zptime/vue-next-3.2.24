{"code":"import { includeBooleanAttr, isSpecialBooleanAttr, makeMap, NOOP } from '@vue/shared';\r\nimport { compatUtils } from '@vue/runtime-core';\r\nexport const xlinkNS = 'http://www.w3.org/1999/xlink';\r\nexport function patchAttr(el, key, value, isSVG, instance) {\r\n    if (isSVG && key.startsWith('xlink:')) {\r\n        if (value == null) {\r\n            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\r\n        }\r\n        else {\r\n            el.setAttributeNS(xlinkNS, key, value);\r\n        }\r\n    }\r\n    else {\r\n        if (__COMPAT__ && compatCoerceAttr(el, key, value, instance)) {\r\n            return;\r\n        }\r\n        // note we are only checking boolean attributes that don't have a\r\n        // corresponding dom prop of the same name here.\r\n        const isBoolean = isSpecialBooleanAttr(key);\r\n        if (value == null || (isBoolean && !includeBooleanAttr(value))) {\r\n            el.removeAttribute(key);\r\n        }\r\n        else {\r\n            el.setAttribute(key, isBoolean ? '' : value);\r\n        }\r\n    }\r\n}\r\n// 2.x compat\r\nconst isEnumeratedAttr = __COMPAT__\r\n    ? /*#__PURE__*/ makeMap('contenteditable,draggable,spellcheck')\r\n    : NOOP;\r\nexport function compatCoerceAttr(el, key, value, instance = null) {\r\n    if (isEnumeratedAttr(key)) {\r\n        const v2CocercedValue = value === null\r\n            ? 'false'\r\n            : typeof value !== 'boolean' && value !== undefined\r\n                ? 'true'\r\n                : null;\r\n        if (v2CocercedValue &&\r\n            compatUtils.softAssertCompatEnabled(\"ATTR_ENUMERATED_COERCION\" /* ATTR_ENUMERATED_COERCION */, instance, key, value, v2CocercedValue)) {\r\n            el.setAttribute(key, v2CocercedValue);\r\n            return true;\r\n        }\r\n    }\r\n    else if (value === false &&\r\n        !isSpecialBooleanAttr(key) &&\r\n        compatUtils.softAssertCompatEnabled(\"ATTR_FALSE_VALUE\" /* ATTR_FALSE_VALUE */, instance, key)) {\r\n        el.removeAttribute(key);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/index.ts"]}
