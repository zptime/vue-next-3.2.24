{"code":"import { isString, hyphenate, capitalize, isArray } from '@vue/shared';\r\nimport { camelize } from '@vue/runtime-core';\r\nexport function patchStyle(el, prev, next) {\r\n    const style = el.style;\r\n    const isCssString = isString(next);\r\n    if (next && !isCssString) {\r\n        for (const key in next) {\r\n            setStyle(style, key, next[key]);\r\n        }\r\n        if (prev && !isString(prev)) {\r\n            for (const key in prev) {\r\n                if (next[key] == null) {\r\n                    setStyle(style, key, '');\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        const currentDisplay = style.display;\r\n        if (isCssString) {\r\n            if (prev !== next) {\r\n                style.cssText = next;\r\n            }\r\n        }\r\n        else if (prev) {\r\n            el.removeAttribute('style');\r\n        }\r\n        // indicates that the `display` of the element is controlled by `v-show`,\r\n        // so we always keep the current `display` value regardless of the `style`\r\n        // value, thus handing over control to `v-show`.\r\n        if ('_vod' in el) {\r\n            style.display = currentDisplay;\r\n        }\r\n    }\r\n}\r\nconst importantRE = /\\s*!important$/;\r\nfunction setStyle(style, name, val) {\r\n    if (isArray(val)) {\r\n        val.forEach(v => setStyle(style, name, v));\r\n    }\r\n    else {\r\n        if (name.startsWith('--')) {\r\n            // custom property definition\r\n            style.setProperty(name, val);\r\n        }\r\n        else {\r\n            const prefixed = autoPrefix(style, name);\r\n            if (importantRE.test(val)) {\r\n                // !important\r\n                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');\r\n            }\r\n            else {\r\n                style[prefixed] = val;\r\n            }\r\n        }\r\n    }\r\n}\r\nconst prefixes = ['Webkit', 'Moz', 'ms'];\r\nconst prefixCache = {};\r\nfunction autoPrefix(style, rawName) {\r\n    const cached = prefixCache[rawName];\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    let name = camelize(rawName);\r\n    if (name !== 'filter' && name in style) {\r\n        return (prefixCache[rawName] = name);\r\n    }\r\n    name = capitalize(name);\r\n    for (let i = 0; i < prefixes.length; i++) {\r\n        const prefixed = prefixes[i] + name;\r\n        if (prefixed in style) {\r\n            return (prefixCache[rawName] = prefixed);\r\n        }\r\n    }\r\n    return rawName;\r\n}\r\n//# sourceMappingURL=style.js.map","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/index.ts"],"map":"{\"version\":3,\"file\":\"style.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../packages/runtime-dom/src/modules/style.ts\"],\"names\":[],\"mappings\":\"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\"}"}
