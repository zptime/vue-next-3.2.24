{"code":"import { includeBooleanAttr, isSpecialBooleanAttr, makeMap, NOOP } from '@vue/shared';\r\nimport { compatUtils } from '@vue/runtime-core';\r\nexport const xlinkNS = 'http://www.w3.org/1999/xlink';\r\nexport function patchAttr(el, key, value, isSVG, instance) {\r\n    if (isSVG && key.startsWith('xlink:')) {\r\n        if (value == null) {\r\n            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\r\n        }\r\n        else {\r\n            el.setAttributeNS(xlinkNS, key, value);\r\n        }\r\n    }\r\n    else {\r\n        if (__COMPAT__ && compatCoerceAttr(el, key, value, instance)) {\r\n            return;\r\n        }\r\n        // note we are only checking boolean attributes that don't have a\r\n        // corresponding dom prop of the same name here.\r\n        const isBoolean = isSpecialBooleanAttr(key);\r\n        if (value == null || (isBoolean && !includeBooleanAttr(value))) {\r\n            el.removeAttribute(key);\r\n        }\r\n        else {\r\n            el.setAttribute(key, isBoolean ? '' : value);\r\n        }\r\n    }\r\n}\r\n// 2.x compat\r\nconst isEnumeratedAttr = __COMPAT__\r\n    ? /*#__PURE__*/ makeMap('contenteditable,draggable,spellcheck')\r\n    : NOOP;\r\nexport function compatCoerceAttr(el, key, value, instance = null) {\r\n    if (isEnumeratedAttr(key)) {\r\n        const v2CocercedValue = value === null\r\n            ? 'false'\r\n            : typeof value !== 'boolean' && value !== undefined\r\n                ? 'true'\r\n                : null;\r\n        if (v2CocercedValue &&\r\n            compatUtils.softAssertCompatEnabled(\"ATTR_ENUMERATED_COERCION\" /* ATTR_ENUMERATED_COERCION */, instance, key, value, v2CocercedValue)) {\r\n            el.setAttribute(key, v2CocercedValue);\r\n            return true;\r\n        }\r\n    }\r\n    else if (value === false &&\r\n        !isSpecialBooleanAttr(key) &&\r\n        compatUtils.softAssertCompatEnabled(\"ATTR_FALSE_VALUE\" /* ATTR_FALSE_VALUE */, instance, key)) {\r\n        el.removeAttribute(key);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n//# sourceMappingURL=attrs.js.map","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/index.ts"],"map":"{\"version\":3,\"file\":\"attrs.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../packages/runtime-dom/src/modules/attrs.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EACL,kBAAkB,EAClB,oBAAoB,EACpB,OAAO,EACP,IAAI,EACL,MAAM,aAAa,CAAA;AACpB,OAAO,EACL,WAAW,EAGZ,MAAM,mBAAmB,CAAA;AAE1B,MAAM,CAAC,MAAM,OAAO,GAAG,8BAA8B,CAAA;AAErD,MAAM,UAAU,SAAS,CACvB,EAAW,EACX,GAAW,EACX,KAAU,EACV,KAAc,EACd,QAA2C;IAE3C,IAAI,KAAK,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;QACrC,IAAI,KAAK,IAAI,IAAI,EAAE;YACjB,EAAE,CAAC,iBAAiB,CAAC,OAAO,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAA;SACxD;aAAM;YACL,EAAE,CAAC,cAAc,CAAC,OAAO,EAAE,GAAG,EAAE,KAAK,CAAC,CAAA;SACvC;KACF;SAAM;QACL,IAAI,UAAU,IAAI,gBAAgB,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,EAAE;YAC5D,OAAM;SACP;QAED,iEAAiE;QACjE,gDAAgD;QAChD,MAAM,SAAS,GAAG,oBAAoB,CAAC,GAAG,CAAC,CAAA;QAC3C,IAAI,KAAK,IAAI,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,EAAE;YAC9D,EAAE,CAAC,eAAe,CAAC,GAAG,CAAC,CAAA;SACxB;aAAM;YACL,EAAE,CAAC,YAAY,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAA;SAC7C;KACF;AACH,CAAC;AAED,aAAa;AACb,MAAM,gBAAgB,GAAG,UAAU;IACjC,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC,sCAAsC,CAAC;IAC/D,CAAC,CAAC,IAAI,CAAA;AAER,MAAM,UAAU,gBAAgB,CAC9B,EAAW,EACX,GAAW,EACX,KAAc,EACd,WAA6C,IAAI;IAEjD,IAAI,gBAAgB,CAAC,GAAG,CAAC,EAAE;QACzB,MAAM,eAAe,GACnB,KAAK,KAAK,IAAI;YACZ,CAAC,CAAC,OAAO;YACT,CAAC,CAAC,OAAO,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,SAAS;gBACnD,CAAC,CAAC,MAAM;gBACR,CAAC,CAAC,IAAI,CAAA;QACV,IACE,eAAe;YACf,WAAW,CAAC,uBAAuB,4DAEjC,QAAQ,EACR,GAAG,EACH,KAAK,EACL,eAAe,CAChB,EACD;YACA,EAAE,CAAC,YAAY,CAAC,GAAG,EAAE,eAAe,CAAC,CAAA;YACrC,OAAO,IAAI,CAAA;SACZ;KACF;SAAM,IACL,KAAK,KAAK,KAAK;QACf,CAAC,oBAAoB,CAAC,GAAG,CAAC;QAC1B,WAAW,CAAC,uBAAuB,4CAEjC,QAAQ,EACR,GAAG,CACJ,EACD;QACA,EAAE,CAAC,eAAe,CAAC,GAAG,CAAC,CAAA;QACvB,OAAO,IAAI,CAAA;KACZ;IACD,OAAO,KAAK,CAAA;AACd,CAAC\"}"}
