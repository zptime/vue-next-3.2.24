{"code":"import { isReactive, isReadonly, isRef, toRaw } from '@vue/reactivity';\r\nimport { EMPTY_OBJ, extend, isArray, isFunction, isObject } from '@vue/shared';\r\nexport function initCustomFormatter() {\r\n    /* eslint-disable no-restricted-globals */\r\n    if (!__DEV__ || typeof window === 'undefined') {\r\n        return;\r\n    }\r\n    const vueStyle = { style: 'color:#3ba776' };\r\n    const numberStyle = { style: 'color:#0b1bc9' };\r\n    const stringStyle = { style: 'color:#b62e24' };\r\n    const keywordStyle = { style: 'color:#9d288c' };\r\n    // custom formatter for Chrome\r\n    // https://www.mattzeunert.com/2016/02/19/custom-chrome-devtools-object-formatters.html\r\n    const formatter = {\r\n        header(obj) {\r\n            // TODO also format ComponentPublicInstance & ctx.slots/attrs in setup\r\n            if (!isObject(obj)) {\r\n                return null;\r\n            }\r\n            if (obj.__isVue) {\r\n                return ['div', vueStyle, `VueInstance`];\r\n            }\r\n            else if (isRef(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, genRefFlag(obj)],\r\n                    '<',\r\n                    formatValue(obj.value),\r\n                    `>`\r\n                ];\r\n            }\r\n            else if (isReactive(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, 'Reactive'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    `>${isReadonly(obj) ? ` (readonly)` : ``}`\r\n                ];\r\n            }\r\n            else if (isReadonly(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, 'Readonly'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    '>'\r\n                ];\r\n            }\r\n            return null;\r\n        },\r\n        hasBody(obj) {\r\n            return obj && obj.__isVue;\r\n        },\r\n        body(obj) {\r\n            if (obj && obj.__isVue) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ...formatInstance(obj.$)\r\n                ];\r\n            }\r\n        }\r\n    };\r\n    function formatInstance(instance) {\r\n        const blocks = [];\r\n        if (instance.type.props && instance.props) {\r\n            blocks.push(createInstanceBlock('props', toRaw(instance.props)));\r\n        }\r\n        if (instance.setupState !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('setup', instance.setupState));\r\n        }\r\n        if (instance.data !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('data', toRaw(instance.data)));\r\n        }\r\n        const computed = extractKeys(instance, 'computed');\r\n        if (computed) {\r\n            blocks.push(createInstanceBlock('computed', computed));\r\n        }\r\n        const injected = extractKeys(instance, 'inject');\r\n        if (injected) {\r\n            blocks.push(createInstanceBlock('injected', injected));\r\n        }\r\n        blocks.push([\r\n            'div',\r\n            {},\r\n            [\r\n                'span',\r\n                {\r\n                    style: keywordStyle.style + ';opacity:0.66'\r\n                },\r\n                '$ (internal): '\r\n            ],\r\n            ['object', { object: instance }]\r\n        ]);\r\n        return blocks;\r\n    }\r\n    function createInstanceBlock(type, target) {\r\n        target = extend({}, target);\r\n        if (!Object.keys(target).length) {\r\n            return ['span', {}];\r\n        }\r\n        return [\r\n            'div',\r\n            { style: 'line-height:1.25em;margin-bottom:0.6em' },\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'color:#476582'\r\n                },\r\n                type\r\n            ],\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'padding-left:1.25em'\r\n                },\r\n                ...Object.keys(target).map(key => {\r\n                    return [\r\n                        'div',\r\n                        {},\r\n                        ['span', keywordStyle, key + ': '],\r\n                        formatValue(target[key], false)\r\n                    ];\r\n                })\r\n            ]\r\n        ];\r\n    }\r\n    function formatValue(v, asRaw = true) {\r\n        if (typeof v === 'number') {\r\n            return ['span', numberStyle, v];\r\n        }\r\n        else if (typeof v === 'string') {\r\n            return ['span', stringStyle, JSON.stringify(v)];\r\n        }\r\n        else if (typeof v === 'boolean') {\r\n            return ['span', keywordStyle, v];\r\n        }\r\n        else if (isObject(v)) {\r\n            return ['object', { object: asRaw ? toRaw(v) : v }];\r\n        }\r\n        else {\r\n            return ['span', stringStyle, String(v)];\r\n        }\r\n    }\r\n    function extractKeys(instance, type) {\r\n        const Comp = instance.type;\r\n        if (isFunction(Comp)) {\r\n            return;\r\n        }\r\n        const extracted = {};\r\n        for (const key in instance.ctx) {\r\n            if (isKeyOfType(Comp, key, type)) {\r\n                extracted[key] = instance.ctx[key];\r\n            }\r\n        }\r\n        return extracted;\r\n    }\r\n    function isKeyOfType(Comp, key, type) {\r\n        const opts = Comp[type];\r\n        if ((isArray(opts) && opts.includes(key)) ||\r\n            (isObject(opts) && key in opts)) {\r\n            return true;\r\n        }\r\n        if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\r\n            return true;\r\n        }\r\n        if (Comp.mixins && Comp.mixins.some(m => isKeyOfType(m, key, type))) {\r\n            return true;\r\n        }\r\n    }\r\n    function genRefFlag(v) {\r\n        if (v._shallow) {\r\n            return `ShallowRef`;\r\n        }\r\n        if (v.effect) {\r\n            return `ComputedRef`;\r\n        }\r\n        return `Ref`;\r\n    }\r\n    if (window.devtoolsFormatters) {\r\n        ;\r\n        window.devtoolsFormatters.push(formatter);\r\n    }\r\n    else {\r\n        ;\r\n        window.devtoolsFormatters = [formatter];\r\n    }\r\n}\r\n//# sourceMappingURL=customFormatter.js.map","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/reactivity/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/component.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/componentPublicInstance.ts"],"map":"{\"version\":3,\"file\":\"customFormatter.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../packages/runtime-core/src/customFormatter.ts\"],\"names\":[],\"mappings\":\"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\"}"}
