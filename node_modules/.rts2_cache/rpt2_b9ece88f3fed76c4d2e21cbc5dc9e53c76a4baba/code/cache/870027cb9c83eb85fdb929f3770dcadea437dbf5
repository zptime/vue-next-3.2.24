{"code":"import { isString } from '@vue/shared';\r\nimport { OPEN_BLOCK, WITH_DIRECTIVES } from './runtimeHelpers';\r\nimport { getVNodeBlockHelper, getVNodeHelper } from './utils';\r\n// AST Utilities ---------------------------------------------------------------\r\n// Some expressions, e.g. sequence and conditional expressions, are never\r\n// associated with template nodes, so their source locations are just a stub.\r\n// Container types like CompoundExpression also don't need a real location.\r\nexport const locStub = {\r\n    source: '',\r\n    start: { line: 1, column: 1, offset: 0 },\r\n    end: { line: 1, column: 1, offset: 0 }\r\n};\r\nexport function createRoot(children, loc = locStub) {\r\n    return {\r\n        type: 0 /* ROOT */,\r\n        children,\r\n        helpers: [],\r\n        components: [],\r\n        directives: [],\r\n        hoists: [],\r\n        imports: [],\r\n        cached: 0,\r\n        temps: 0,\r\n        codegenNode: undefined,\r\n        loc\r\n    };\r\n}\r\nexport function createVNodeCall(context, tag, props, children, patchFlag, dynamicProps, directives, isBlock = false, disableTracking = false, isComponent = false, loc = locStub) {\r\n    if (context) {\r\n        if (isBlock) {\r\n            context.helper(OPEN_BLOCK);\r\n            context.helper(getVNodeBlockHelper(context.inSSR, isComponent));\r\n        }\r\n        else {\r\n            context.helper(getVNodeHelper(context.inSSR, isComponent));\r\n        }\r\n        if (directives) {\r\n            context.helper(WITH_DIRECTIVES);\r\n        }\r\n    }\r\n    return {\r\n        type: 13 /* VNODE_CALL */,\r\n        tag,\r\n        props,\r\n        children,\r\n        patchFlag,\r\n        dynamicProps,\r\n        directives,\r\n        isBlock,\r\n        disableTracking,\r\n        isComponent,\r\n        loc\r\n    };\r\n}\r\nexport function createArrayExpression(elements, loc = locStub) {\r\n    return {\r\n        type: 17 /* JS_ARRAY_EXPRESSION */,\r\n        loc,\r\n        elements\r\n    };\r\n}\r\nexport function createObjectExpression(properties, loc = locStub) {\r\n    return {\r\n        type: 15 /* JS_OBJECT_EXPRESSION */,\r\n        loc,\r\n        properties\r\n    };\r\n}\r\nexport function createObjectProperty(key, value) {\r\n    return {\r\n        type: 16 /* JS_PROPERTY */,\r\n        loc: locStub,\r\n        key: isString(key) ? createSimpleExpression(key, true) : key,\r\n        value\r\n    };\r\n}\r\nexport function createSimpleExpression(content, isStatic = false, loc = locStub, constType = 0 /* NOT_CONSTANT */) {\r\n    return {\r\n        type: 4 /* SIMPLE_EXPRESSION */,\r\n        loc,\r\n        content,\r\n        isStatic,\r\n        constType: isStatic ? 3 /* CAN_STRINGIFY */ : constType\r\n    };\r\n}\r\nexport function createInterpolation(content, loc) {\r\n    return {\r\n        type: 5 /* INTERPOLATION */,\r\n        loc,\r\n        content: isString(content)\r\n            ? createSimpleExpression(content, false, loc)\r\n            : content\r\n    };\r\n}\r\nexport function createCompoundExpression(children, loc = locStub) {\r\n    return {\r\n        type: 8 /* COMPOUND_EXPRESSION */,\r\n        loc,\r\n        children\r\n    };\r\n}\r\nexport function createCallExpression(callee, args = [], loc = locStub) {\r\n    return {\r\n        type: 14 /* JS_CALL_EXPRESSION */,\r\n        loc,\r\n        callee,\r\n        arguments: args\r\n    };\r\n}\r\nexport function createFunctionExpression(params, returns = undefined, newline = false, isSlot = false, loc = locStub) {\r\n    return {\r\n        type: 18 /* JS_FUNCTION_EXPRESSION */,\r\n        params,\r\n        returns,\r\n        newline,\r\n        isSlot,\r\n        loc\r\n    };\r\n}\r\nexport function createConditionalExpression(test, consequent, alternate, newline = true) {\r\n    return {\r\n        type: 19 /* JS_CONDITIONAL_EXPRESSION */,\r\n        test,\r\n        consequent,\r\n        alternate,\r\n        newline,\r\n        loc: locStub\r\n    };\r\n}\r\nexport function createCacheExpression(index, value, isVNode = false) {\r\n    return {\r\n        type: 20 /* JS_CACHE_EXPRESSION */,\r\n        index,\r\n        value,\r\n        isVNode,\r\n        loc: locStub\r\n    };\r\n}\r\nexport function createBlockStatement(body) {\r\n    return {\r\n        type: 21 /* JS_BLOCK_STATEMENT */,\r\n        body,\r\n        loc: locStub\r\n    };\r\n}\r\nexport function createTemplateLiteral(elements) {\r\n    return {\r\n        type: 22 /* JS_TEMPLATE_LITERAL */,\r\n        elements,\r\n        loc: locStub\r\n    };\r\n}\r\nexport function createIfStatement(test, consequent, alternate) {\r\n    return {\r\n        type: 23 /* JS_IF_STATEMENT */,\r\n        test,\r\n        consequent,\r\n        alternate,\r\n        loc: locStub\r\n    };\r\n}\r\nexport function createAssignmentExpression(left, right) {\r\n    return {\r\n        type: 24 /* JS_ASSIGNMENT_EXPRESSION */,\r\n        left,\r\n        right,\r\n        loc: locStub\r\n    };\r\n}\r\nexport function createSequenceExpression(expressions) {\r\n    return {\r\n        type: 25 /* JS_SEQUENCE_EXPRESSION */,\r\n        expressions,\r\n        loc: locStub\r\n    };\r\n}\r\nexport function createReturnStatement(returns) {\r\n    return {\r\n        type: 26 /* JS_RETURN_STATEMENT */,\r\n        returns,\r\n        loc: locStub\r\n    };\r\n}\r\n//# sourceMappingURL=ast.js.map","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/transforms/vFor.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/runtimeHelpers.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/transforms/transformElement.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/transform.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/utils.ts"],"map":"{\"version\":3,\"file\":\"ast.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../packages/compiler-core/src/ast.ts\"],\"names\":[],\"mappings\":\"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\"}"}
