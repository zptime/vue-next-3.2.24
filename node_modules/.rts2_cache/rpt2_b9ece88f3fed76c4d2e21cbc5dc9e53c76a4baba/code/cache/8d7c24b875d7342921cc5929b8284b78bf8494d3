{"code":"import { createArrayExpression } from '../ast';\r\nimport { isString, isSymbol, isArray } from '@vue/shared';\r\nimport { getVNodeBlockHelper, getVNodeHelper, isSlotOutlet } from '../utils';\r\nimport { OPEN_BLOCK, GUARD_REACTIVE_PROPS, NORMALIZE_CLASS, NORMALIZE_PROPS, NORMALIZE_STYLE } from '../runtimeHelpers';\r\nexport function hoistStatic(root, context) {\r\n    walk(root, context, \r\n    // Root node is unfortunately non-hoistable due to potential parent\r\n    // fallthrough attributes.\r\n    isSingleElementRoot(root, root.children[0]));\r\n}\r\nexport function isSingleElementRoot(root, child) {\r\n    const { children } = root;\r\n    return (children.length === 1 &&\r\n        child.type === 1 /* ELEMENT */ &&\r\n        !isSlotOutlet(child));\r\n}\r\nfunction walk(node, context, doNotHoistNode = false) {\r\n    const { children } = node;\r\n    const originalCount = children.length;\r\n    let hoistedCount = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n        // only plain elements & text calls are eligible for hoisting.\r\n        if (child.type === 1 /* ELEMENT */ &&\r\n            child.tagType === 0 /* ELEMENT */) {\r\n            const constantType = doNotHoistNode\r\n                ? 0 /* NOT_CONSTANT */\r\n                : getConstantType(child, context);\r\n            if (constantType > 0 /* NOT_CONSTANT */) {\r\n                if (constantType >= 2 /* CAN_HOIST */) {\r\n                    ;\r\n                    child.codegenNode.patchFlag =\r\n                        -1 /* HOISTED */ + (__DEV__ ? ` /* HOISTED */` : ``);\r\n                    child.codegenNode = context.hoist(child.codegenNode);\r\n                    hoistedCount++;\r\n                    continue;\r\n                }\r\n            }\r\n            else {\r\n                // node may contain dynamic children, but its props may be eligible for\r\n                // hoisting.\r\n                const codegenNode = child.codegenNode;\r\n                if (codegenNode.type === 13 /* VNODE_CALL */) {\r\n                    const flag = getPatchFlag(codegenNode);\r\n                    if ((!flag ||\r\n                        flag === 512 /* NEED_PATCH */ ||\r\n                        flag === 1 /* TEXT */) &&\r\n                        getGeneratedPropsConstantType(child, context) >=\r\n                            2 /* CAN_HOIST */) {\r\n                        const props = getNodeProps(child);\r\n                        if (props) {\r\n                            codegenNode.props = context.hoist(props);\r\n                        }\r\n                    }\r\n                    if (codegenNode.dynamicProps) {\r\n                        codegenNode.dynamicProps = context.hoist(codegenNode.dynamicProps);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (child.type === 12 /* TEXT_CALL */ &&\r\n            getConstantType(child.content, context) >= 2 /* CAN_HOIST */) {\r\n            child.codegenNode = context.hoist(child.codegenNode);\r\n            hoistedCount++;\r\n        }\r\n        // walk further\r\n        if (child.type === 1 /* ELEMENT */) {\r\n            const isComponent = child.tagType === 1 /* COMPONENT */;\r\n            if (isComponent) {\r\n                context.scopes.vSlot++;\r\n            }\r\n            walk(child, context);\r\n            if (isComponent) {\r\n                context.scopes.vSlot--;\r\n            }\r\n        }\r\n        else if (child.type === 11 /* FOR */) {\r\n            // Do not hoist v-for single child because it has to be a block\r\n            walk(child, context, child.children.length === 1);\r\n        }\r\n        else if (child.type === 9 /* IF */) {\r\n            for (let i = 0; i < child.branches.length; i++) {\r\n                // Do not hoist v-if single child because it has to be a block\r\n                walk(child.branches[i], context, child.branches[i].children.length === 1);\r\n            }\r\n        }\r\n    }\r\n    if (hoistedCount && context.transformHoist) {\r\n        context.transformHoist(children, context, node);\r\n    }\r\n    // all children were hoisted - the entire children array is hoistable.\r\n    if (hoistedCount &&\r\n        hoistedCount === originalCount &&\r\n        node.type === 1 /* ELEMENT */ &&\r\n        node.tagType === 0 /* ELEMENT */ &&\r\n        node.codegenNode &&\r\n        node.codegenNode.type === 13 /* VNODE_CALL */ &&\r\n        isArray(node.codegenNode.children)) {\r\n        node.codegenNode.children = context.hoist(createArrayExpression(node.codegenNode.children));\r\n    }\r\n}\r\nexport function getConstantType(node, context) {\r\n    const { constantCache } = context;\r\n    switch (node.type) {\r\n        case 1 /* ELEMENT */:\r\n            if (node.tagType !== 0 /* ELEMENT */) {\r\n                return 0 /* NOT_CONSTANT */;\r\n            }\r\n            const cached = constantCache.get(node);\r\n            if (cached !== undefined) {\r\n                return cached;\r\n            }\r\n            const codegenNode = node.codegenNode;\r\n            if (codegenNode.type !== 13 /* VNODE_CALL */) {\r\n                return 0 /* NOT_CONSTANT */;\r\n            }\r\n            const flag = getPatchFlag(codegenNode);\r\n            if (!flag) {\r\n                let returnType = 3 /* CAN_STRINGIFY */;\r\n                // Element itself has no patch flag. However we still need to check:\r\n                // 1. Even for a node with no patch flag, it is possible for it to contain\r\n                // non-hoistable expressions that refers to scope variables, e.g. compiler\r\n                // injected keys or cached event handlers. Therefore we need to always\r\n                // check the codegenNode's props to be sure.\r\n                const generatedPropsType = getGeneratedPropsConstantType(node, context);\r\n                if (generatedPropsType === 0 /* NOT_CONSTANT */) {\r\n                    constantCache.set(node, 0 /* NOT_CONSTANT */);\r\n                    return 0 /* NOT_CONSTANT */;\r\n                }\r\n                if (generatedPropsType < returnType) {\r\n                    returnType = generatedPropsType;\r\n                }\r\n                // 2. its children.\r\n                for (let i = 0; i < node.children.length; i++) {\r\n                    const childType = getConstantType(node.children[i], context);\r\n                    if (childType === 0 /* NOT_CONSTANT */) {\r\n                        constantCache.set(node, 0 /* NOT_CONSTANT */);\r\n                        return 0 /* NOT_CONSTANT */;\r\n                    }\r\n                    if (childType < returnType) {\r\n                        returnType = childType;\r\n                    }\r\n                }\r\n                // 3. if the type is not already CAN_SKIP_PATCH which is the lowest non-0\r\n                // type, check if any of the props can cause the type to be lowered\r\n                // we can skip can_patch because it's guaranteed by the absence of a\r\n                // patchFlag.\r\n                if (returnType > 1 /* CAN_SKIP_PATCH */) {\r\n                    for (let i = 0; i < node.props.length; i++) {\r\n                        const p = node.props[i];\r\n                        if (p.type === 7 /* DIRECTIVE */ && p.name === 'bind' && p.exp) {\r\n                            const expType = getConstantType(p.exp, context);\r\n                            if (expType === 0 /* NOT_CONSTANT */) {\r\n                                constantCache.set(node, 0 /* NOT_CONSTANT */);\r\n                                return 0 /* NOT_CONSTANT */;\r\n                            }\r\n                            if (expType < returnType) {\r\n                                returnType = expType;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                // only svg/foreignObject could be block here, however if they are\r\n                // static then they don't need to be blocks since there will be no\r\n                // nested updates.\r\n                if (codegenNode.isBlock) {\r\n                    context.removeHelper(OPEN_BLOCK);\r\n                    context.removeHelper(getVNodeBlockHelper(context.inSSR, codegenNode.isComponent));\r\n                    codegenNode.isBlock = false;\r\n                    context.helper(getVNodeHelper(context.inSSR, codegenNode.isComponent));\r\n                }\r\n                constantCache.set(node, returnType);\r\n                return returnType;\r\n            }\r\n            else {\r\n                constantCache.set(node, 0 /* NOT_CONSTANT */);\r\n                return 0 /* NOT_CONSTANT */;\r\n            }\r\n        case 2 /* TEXT */:\r\n        case 3 /* COMMENT */:\r\n            return 3 /* CAN_STRINGIFY */;\r\n        case 9 /* IF */:\r\n        case 11 /* FOR */:\r\n        case 10 /* IF_BRANCH */:\r\n            return 0 /* NOT_CONSTANT */;\r\n        case 5 /* INTERPOLATION */:\r\n        case 12 /* TEXT_CALL */:\r\n            return getConstantType(node.content, context);\r\n        case 4 /* SIMPLE_EXPRESSION */:\r\n            return node.constType;\r\n        case 8 /* COMPOUND_EXPRESSION */:\r\n            let returnType = 3 /* CAN_STRINGIFY */;\r\n            for (let i = 0; i < node.children.length; i++) {\r\n                const child = node.children[i];\r\n                if (isString(child) || isSymbol(child)) {\r\n                    continue;\r\n                }\r\n                const childType = getConstantType(child, context);\r\n                if (childType === 0 /* NOT_CONSTANT */) {\r\n                    return 0 /* NOT_CONSTANT */;\r\n                }\r\n                else if (childType < returnType) {\r\n                    returnType = childType;\r\n                }\r\n            }\r\n            return returnType;\r\n        default:\r\n            if (__DEV__) {\r\n                const exhaustiveCheck = node;\r\n                exhaustiveCheck;\r\n            }\r\n            return 0 /* NOT_CONSTANT */;\r\n    }\r\n}\r\nconst allowHoistedHelperSet = new Set([\r\n    NORMALIZE_CLASS,\r\n    NORMALIZE_STYLE,\r\n    NORMALIZE_PROPS,\r\n    GUARD_REACTIVE_PROPS\r\n]);\r\nfunction getConstantTypeOfHelperCall(value, context) {\r\n    if (value.type === 14 /* JS_CALL_EXPRESSION */ &&\r\n        !isString(value.callee) &&\r\n        allowHoistedHelperSet.has(value.callee)) {\r\n        const arg = value.arguments[0];\r\n        if (arg.type === 4 /* SIMPLE_EXPRESSION */) {\r\n            return getConstantType(arg, context);\r\n        }\r\n        else if (arg.type === 14 /* JS_CALL_EXPRESSION */) {\r\n            // in the case of nested helper call, e.g. `normalizeProps(guardReactiveProps(exp))`\r\n            return getConstantTypeOfHelperCall(arg, context);\r\n        }\r\n    }\r\n    return 0 /* NOT_CONSTANT */;\r\n}\r\nfunction getGeneratedPropsConstantType(node, context) {\r\n    let returnType = 3 /* CAN_STRINGIFY */;\r\n    const props = getNodeProps(node);\r\n    if (props && props.type === 15 /* JS_OBJECT_EXPRESSION */) {\r\n        const { properties } = props;\r\n        for (let i = 0; i < properties.length; i++) {\r\n            const { key, value } = properties[i];\r\n            const keyType = getConstantType(key, context);\r\n            if (keyType === 0 /* NOT_CONSTANT */) {\r\n                return keyType;\r\n            }\r\n            if (keyType < returnType) {\r\n                returnType = keyType;\r\n            }\r\n            let valueType;\r\n            if (value.type === 4 /* SIMPLE_EXPRESSION */) {\r\n                valueType = getConstantType(value, context);\r\n            }\r\n            else if (value.type === 14 /* JS_CALL_EXPRESSION */) {\r\n                // some helper calls can be hoisted,\r\n                // such as the `normalizeProps` generated by the compiler for pre-normalize class,\r\n                // in this case we need to respect the ConstantType of the helper's argments\r\n                valueType = getConstantTypeOfHelperCall(value, context);\r\n            }\r\n            else {\r\n                valueType = 0 /* NOT_CONSTANT */;\r\n            }\r\n            if (valueType === 0 /* NOT_CONSTANT */) {\r\n                return valueType;\r\n            }\r\n            if (valueType < returnType) {\r\n                returnType = valueType;\r\n            }\r\n        }\r\n    }\r\n    return returnType;\r\n}\r\nfunction getNodeProps(node) {\r\n    const codegenNode = node.codegenNode;\r\n    if (codegenNode.type === 13 /* VNODE_CALL */) {\r\n        return codegenNode.props;\r\n    }\r\n}\r\nfunction getPatchFlag(node) {\r\n    const flag = node.patchFlag;\r\n    return flag ? parseInt(flag, 10) : undefined;\r\n}\r\n//# sourceMappingURL=hoistStatic.js.map","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/ast.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/transform.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/utils.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/runtimeHelpers.ts"],"map":"{\"version\":3,\"file\":\"hoistStatic.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../packages/compiler-core/src/transforms/hoistStatic.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAcL,qBAAqB,EACtB,MAAM,QAAQ,CAAA;AAEf,OAAO,EAAc,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,aAAa,CAAA;AACrE,OAAO,EAAE,mBAAmB,EAAE,cAAc,EAAE,YAAY,EAAE,MAAM,UAAU,CAAA;AAC5E,OAAO,EACL,UAAU,EACV,oBAAoB,EACpB,eAAe,EACf,eAAe,EACf,eAAe,EAChB,MAAM,mBAAmB,CAAA;AAE1B,MAAM,UAAU,WAAW,CAAC,IAAc,EAAE,OAAyB;IACnE,IAAI,CACF,IAAI,EACJ,OAAO;IACP,mEAAmE;IACnE,0BAA0B;IAC1B,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5C,CAAA;AACH,CAAC;AAED,MAAM,UAAU,mBAAmB,CACjC,IAAc,EACd,KAAwB;IAExB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAA;IACzB,OAAO,CACL,QAAQ,CAAC,MAAM,KAAK,CAAC;QACrB,KAAK,CAAC,IAAI,oBAAsB;QAChC,CAAC,YAAY,CAAC,KAAK,CAAC,CACrB,CAAA;AACH,CAAC;AAED,SAAS,IAAI,CACX,IAAgB,EAChB,OAAyB,EACzB,iBAA0B,KAAK;IAE/B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAA;IACzB,MAAM,aAAa,GAAG,QAAQ,CAAC,MAAM,CAAA;IACrC,IAAI,YAAY,GAAG,CAAC,CAAA;IAEpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAA;QACzB,8DAA8D;QAC9D,IACE,KAAK,CAAC,IAAI,oBAAsB;YAChC,KAAK,CAAC,OAAO,oBAAyB,EACtC;YACA,MAAM,YAAY,GAAG,cAAc;gBACjC,CAAC;gBACD,CAAC,CAAC,eAAe,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;YACnC,IAAI,YAAY,uBAA6B,EAAE;gBAC7C,IAAI,YAAY,qBAA2B,EAAE;oBAC3C,CAAC;oBAAC,KAAK,CAAC,WAAyB,CAAC,SAAS;wBACzC,mBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAA;oBACxD,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,WAAY,CAAC,CAAA;oBACrD,YAAY,EAAE,CAAA;oBACd,SAAQ;iBACT;aACF;iBAAM;gBACL,uEAAuE;gBACvE,YAAY;gBACZ,MAAM,WAAW,GAAG,KAAK,CAAC,WAAY,CAAA;gBACtC,IAAI,WAAW,CAAC,IAAI,wBAAyB,EAAE;oBAC7C,MAAM,IAAI,GAAG,YAAY,CAAC,WAAW,CAAC,CAAA;oBACtC,IACE,CAAC,CAAC,IAAI;wBACJ,IAAI,yBAA0B;wBAC9B,IAAI,iBAAoB,CAAC;wBAC3B,6BAA6B,CAAC,KAAK,EAAE,OAAO,CAAC;6CACpB,EACzB;wBACA,MAAM,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC,CAAA;wBACjC,IAAI,KAAK,EAAE;4BACT,WAAW,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;yBACzC;qBACF;oBACD,IAAI,WAAW,CAAC,YAAY,EAAE;wBAC5B,WAAW,CAAC,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,CAAA;qBACnE;iBACF;aACF;SACF;aAAM,IACL,KAAK,CAAC,IAAI,uBAAwB;YAClC,eAAe,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,qBAA2B,EAClE;YACA,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA;YACpD,YAAY,EAAE,CAAA;SACf;QAED,eAAe;QACf,IAAI,KAAK,CAAC,IAAI,oBAAsB,EAAE;YACpC,MAAM,WAAW,GAAG,KAAK,CAAC,OAAO,sBAA2B,CAAA;YAC5D,IAAI,WAAW,EAAE;gBACf,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAA;aACvB;YACD,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;YACpB,IAAI,WAAW,EAAE;gBACf,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAA;aACvB;SACF;aAAM,IAAI,KAAK,CAAC,IAAI,iBAAkB,EAAE;YACvC,+DAA+D;YAC/D,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAA;SAClD;aAAM,IAAI,KAAK,CAAC,IAAI,eAAiB,EAAE;YACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC9C,8DAA8D;gBAC9D,IAAI,CACF,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,EACjB,OAAO,EACP,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CACxC,CAAA;aACF;SACF;KACF;IAED,IAAI,YAAY,IAAI,OAAO,CAAC,cAAc,EAAE;QAC1C,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAA;KAChD;IAED,sEAAsE;IACtE,IACE,YAAY;QACZ,YAAY,KAAK,aAAa;QAC9B,IAAI,CAAC,IAAI,oBAAsB;QAC/B,IAAI,CAAC,OAAO,oBAAyB;QACrC,IAAI,CAAC,WAAW;QAChB,IAAI,CAAC,WAAW,CAAC,IAAI,wBAAyB;QAC9C,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,EAClC;QACA,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,OAAO,CAAC,KAAK,CACvC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CACjD,CAAA;KACF;AACH,CAAC;AAED,MAAM,UAAU,eAAe,CAC7B,IAA8C,EAC9C,OAAyB;IAEzB,MAAM,EAAE,aAAa,EAAE,GAAG,OAAO,CAAA;IACjC,QAAQ,IAAI,CAAC,IAAI,EAAE;QACjB;YACE,IAAI,IAAI,CAAC,OAAO,oBAAyB,EAAE;gBACzC,4BAAiC;aAClC;YACD,MAAM,MAAM,GAAG,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;YACtC,IAAI,MAAM,KAAK,SAAS,EAAE;gBACxB,OAAO,MAAM,CAAA;aACd;YACD,MAAM,WAAW,GAAG,IAAI,CAAC,WAAY,CAAA;YACrC,IAAI,WAAW,CAAC,IAAI,wBAAyB,EAAE;gBAC7C,4BAAiC;aAClC;YACD,MAAM,IAAI,GAAG,YAAY,CAAC,WAAW,CAAC,CAAA;YACtC,IAAI,CAAC,IAAI,EAAE;gBACT,IAAI,UAAU,wBAA8B,CAAA;gBAE5C,oEAAoE;gBAEpE,0EAA0E;gBAC1E,0EAA0E;gBAC1E,sEAAsE;gBACtE,4CAA4C;gBAC5C,MAAM,kBAAkB,GAAG,6BAA6B,CAAC,IAAI,EAAE,OAAO,CAAC,CAAA;gBACvE,IAAI,kBAAkB,yBAA+B,EAAE;oBACrD,aAAa,CAAC,GAAG,CAAC,IAAI,uBAA6B,CAAA;oBACnD,4BAAiC;iBAClC;gBACD,IAAI,kBAAkB,GAAG,UAAU,EAAE;oBACnC,UAAU,GAAG,kBAAkB,CAAA;iBAChC;gBAED,mBAAmB;gBACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC7C,MAAM,SAAS,GAAG,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAA;oBAC5D,IAAI,SAAS,yBAA+B,EAAE;wBAC5C,aAAa,CAAC,GAAG,CAAC,IAAI,uBAA6B,CAAA;wBACnD,4BAAiC;qBAClC;oBACD,IAAI,SAAS,GAAG,UAAU,EAAE;wBAC1B,UAAU,GAAG,SAAS,CAAA;qBACvB;iBACF;gBAED,yEAAyE;gBACzE,mEAAmE;gBACnE,oEAAoE;gBACpE,aAAa;gBACb,IAAI,UAAU,yBAA+B,EAAE;oBAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBAC1C,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;wBACvB,IAAI,CAAC,CAAC,IAAI,sBAAwB,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,GAAG,EAAE;4BAChE,MAAM,OAAO,GAAG,eAAe,CAAC,CAAC,CAAC,GAAG,EAAE,OAAO,CAAC,CAAA;4BAC/C,IAAI,OAAO,yBAA+B,EAAE;gCAC1C,aAAa,CAAC,GAAG,CAAC,IAAI,uBAA6B,CAAA;gCACnD,4BAAiC;6BAClC;4BACD,IAAI,OAAO,GAAG,UAAU,EAAE;gCACxB,UAAU,GAAG,OAAO,CAAA;6BACrB;yBACF;qBACF;iBACF;gBAED,kEAAkE;gBAClE,kEAAkE;gBAClE,kBAAkB;gBAClB,IAAI,WAAW,CAAC,OAAO,EAAE;oBACvB,OAAO,CAAC,YAAY,CAAC,UAAU,CAAC,CAAA;oBAChC,OAAO,CAAC,YAAY,CAClB,mBAAmB,CAAC,OAAO,CAAC,KAAK,EAAE,WAAW,CAAC,WAAW,CAAC,CAC5D,CAAA;oBACD,WAAW,CAAC,OAAO,GAAG,KAAK,CAAA;oBAC3B,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,EAAE,WAAW,CAAC,WAAW,CAAC,CAAC,CAAA;iBACvE;gBAED,aAAa,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC,CAAA;gBACnC,OAAO,UAAU,CAAA;aAClB;iBAAM;gBACL,aAAa,CAAC,GAAG,CAAC,IAAI,uBAA6B,CAAA;gBACnD,4BAAiC;aAClC;QACH,kBAAoB;QACpB;YACE,6BAAkC;QACpC,gBAAkB;QAClB,kBAAmB;QACnB;YACE,4BAAiC;QACnC,2BAA6B;QAC7B;YACE,OAAO,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;QAC/C;YACE,OAAO,IAAI,CAAC,SAAS,CAAA;QACvB;YACE,IAAI,UAAU,wBAA8B,CAAA;YAC5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC7C,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAA;gBAC9B,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;oBACtC,SAAQ;iBACT;gBACD,MAAM,SAAS,GAAG,eAAe,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;gBACjD,IAAI,SAAS,yBAA+B,EAAE;oBAC5C,4BAAiC;iBAClC;qBAAM,IAAI,SAAS,GAAG,UAAU,EAAE;oBACjC,UAAU,GAAG,SAAS,CAAA;iBACvB;aACF;YACD,OAAO,UAAU,CAAA;QACnB;YACE,IAAI,OAAO,EAAE;gBACX,MAAM,eAAe,GAAU,IAAI,CAAA;gBACnC,eAAe,CAAA;aAChB;YACD,4BAAiC;KACpC;AACH,CAAC;AAED,MAAM,qBAAqB,GAAG,IAAI,GAAG,CAAC;IACpC,eAAe;IACf,eAAe;IACf,eAAe;IACf,oBAAoB;CACrB,CAAC,CAAA;AAEF,SAAS,2BAA2B,CAClC,KAAqB,EACrB,OAAyB;IAEzB,IACE,KAAK,CAAC,IAAI,gCAAiC;QAC3C,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;QACvB,qBAAqB,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,EACvC;QACA,MAAM,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAgB,CAAA;QAC7C,IAAI,GAAG,CAAC,IAAI,8BAAgC,EAAE;YAC5C,OAAO,eAAe,CAAC,GAAG,EAAE,OAAO,CAAC,CAAA;SACrC;aAAM,IAAI,GAAG,CAAC,IAAI,gCAAiC,EAAE;YACpD,oFAAoF;YACpF,OAAO,2BAA2B,CAAC,GAAG,EAAE,OAAO,CAAC,CAAA;SACjD;KACF;IACD,4BAAiC;AACnC,CAAC;AAED,SAAS,6BAA6B,CACpC,IAAsB,EACtB,OAAyB;IAEzB,IAAI,UAAU,wBAA8B,CAAA;IAC5C,MAAM,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,CAAA;IAChC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,kCAAmC,EAAE;QAC1D,MAAM,EAAE,UAAU,EAAE,GAAG,KAAK,CAAA;QAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC1C,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC,CAAA;YACpC,MAAM,OAAO,GAAG,eAAe,CAAC,GAAG,EAAE,OAAO,CAAC,CAAA;YAC7C,IAAI,OAAO,yBAA+B,EAAE;gBAC1C,OAAO,OAAO,CAAA;aACf;YACD,IAAI,OAAO,GAAG,UAAU,EAAE;gBACxB,UAAU,GAAG,OAAO,CAAA;aACrB;YACD,IAAI,SAAwB,CAAA;YAC5B,IAAI,KAAK,CAAC,IAAI,8BAAgC,EAAE;gBAC9C,SAAS,GAAG,eAAe,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;aAC5C;iBAAM,IAAI,KAAK,CAAC,IAAI,gCAAiC,EAAE;gBACtD,oCAAoC;gBACpC,kFAAkF;gBAClF,4EAA4E;gBAC5E,SAAS,GAAG,2BAA2B,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;aACxD;iBAAM;gBACL,SAAS,uBAA6B,CAAA;aACvC;YACD,IAAI,SAAS,yBAA+B,EAAE;gBAC5C,OAAO,SAAS,CAAA;aACjB;YACD,IAAI,SAAS,GAAG,UAAU,EAAE;gBAC1B,UAAU,GAAG,SAAS,CAAA;aACvB;SACF;KACF;IACD,OAAO,UAAU,CAAA;AACnB,CAAC;AAED,SAAS,YAAY,CAAC,IAAsB;IAC1C,MAAM,WAAW,GAAG,IAAI,CAAC,WAAY,CAAA;IACrC,IAAI,WAAW,CAAC,IAAI,wBAAyB,EAAE;QAC7C,OAAO,WAAW,CAAC,KAAK,CAAA;KACzB;AACH,CAAC;AAED,SAAS,YAAY,CAAC,IAAe;IACnC,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAA;IAC3B,OAAO,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAA;AAC9C,CAAC\"}"}
