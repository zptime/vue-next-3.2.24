{"code":"import { createSimpleExpression, createCacheExpression, createVNodeCall } from './ast';\r\nimport { isString, isArray, NOOP, PatchFlagNames, EMPTY_OBJ, capitalize, camelize } from '@vue/shared';\r\nimport { defaultOnError, defaultOnWarn } from './errors';\r\nimport { TO_DISPLAY_STRING, FRAGMENT, helperNameMap, CREATE_COMMENT } from './runtimeHelpers';\r\nimport { isVSlot, makeBlock } from './utils';\r\nimport { hoistStatic, isSingleElementRoot } from './transforms/hoistStatic';\r\nexport function createTransformContext(root, { filename = '', prefixIdentifiers = false, hoistStatic = false, cacheHandlers = false, nodeTransforms = [], directiveTransforms = {}, transformHoist = null, isBuiltInComponent = NOOP, isCustomElement = NOOP, expressionPlugins = [], scopeId = null, slotted = true, ssr = false, inSSR = false, ssrCssVars = ``, bindingMetadata = EMPTY_OBJ, inline = false, isTS = false, onError = defaultOnError, onWarn = defaultOnWarn, compatConfig }) {\r\n    const nameMatch = filename.replace(/\\?.*$/, '').match(/([^/\\\\]+)\\.\\w+$/);\r\n    const context = {\r\n        // options\r\n        selfName: nameMatch && capitalize(camelize(nameMatch[1])),\r\n        prefixIdentifiers,\r\n        hoistStatic,\r\n        cacheHandlers,\r\n        nodeTransforms,\r\n        directiveTransforms,\r\n        transformHoist,\r\n        isBuiltInComponent,\r\n        isCustomElement,\r\n        expressionPlugins,\r\n        scopeId,\r\n        slotted,\r\n        ssr,\r\n        inSSR,\r\n        ssrCssVars,\r\n        bindingMetadata,\r\n        inline,\r\n        isTS,\r\n        onError,\r\n        onWarn,\r\n        compatConfig,\r\n        // state\r\n        root,\r\n        helpers: new Map(),\r\n        components: new Set(),\r\n        directives: new Set(),\r\n        hoists: [],\r\n        imports: [],\r\n        constantCache: new Map(),\r\n        temps: 0,\r\n        cached: 0,\r\n        identifiers: Object.create(null),\r\n        scopes: {\r\n            vFor: 0,\r\n            vSlot: 0,\r\n            vPre: 0,\r\n            vOnce: 0\r\n        },\r\n        parent: null,\r\n        currentNode: root,\r\n        childIndex: 0,\r\n        inVOnce: false,\r\n        // methods\r\n        helper(name) {\r\n            const count = context.helpers.get(name) || 0;\r\n            context.helpers.set(name, count + 1);\r\n            return name;\r\n        },\r\n        removeHelper(name) {\r\n            const count = context.helpers.get(name);\r\n            if (count) {\r\n                const currentCount = count - 1;\r\n                if (!currentCount) {\r\n                    context.helpers.delete(name);\r\n                }\r\n                else {\r\n                    context.helpers.set(name, currentCount);\r\n                }\r\n            }\r\n        },\r\n        helperString(name) {\r\n            return `_${helperNameMap[context.helper(name)]}`;\r\n        },\r\n        replaceNode(node) {\r\n            /* istanbul ignore if */\r\n            if (__DEV__) {\r\n                if (!context.currentNode) {\r\n                    throw new Error(`Node being replaced is already removed.`);\r\n                }\r\n                if (!context.parent) {\r\n                    throw new Error(`Cannot replace root node.`);\r\n                }\r\n            }\r\n            context.parent.children[context.childIndex] = context.currentNode = node;\r\n        },\r\n        removeNode(node) {\r\n            if (__DEV__ && !context.parent) {\r\n                throw new Error(`Cannot remove root node.`);\r\n            }\r\n            const list = context.parent.children;\r\n            const removalIndex = node\r\n                ? list.indexOf(node)\r\n                : context.currentNode\r\n                    ? context.childIndex\r\n                    : -1;\r\n            /* istanbul ignore if */\r\n            if (__DEV__ && removalIndex < 0) {\r\n                throw new Error(`node being removed is not a child of current parent`);\r\n            }\r\n            if (!node || node === context.currentNode) {\r\n                // current node removed\r\n                context.currentNode = null;\r\n                context.onNodeRemoved();\r\n            }\r\n            else {\r\n                // sibling node removed\r\n                if (context.childIndex > removalIndex) {\r\n                    context.childIndex--;\r\n                    context.onNodeRemoved();\r\n                }\r\n            }\r\n            context.parent.children.splice(removalIndex, 1);\r\n        },\r\n        onNodeRemoved: () => { },\r\n        addIdentifiers(exp) {\r\n            // identifier tracking only happens in non-browser builds.\r\n            if (!__BROWSER__) {\r\n                if (isString(exp)) {\r\n                    addId(exp);\r\n                }\r\n                else if (exp.identifiers) {\r\n                    exp.identifiers.forEach(addId);\r\n                }\r\n                else if (exp.type === 4 /* SIMPLE_EXPRESSION */) {\r\n                    addId(exp.content);\r\n                }\r\n            }\r\n        },\r\n        removeIdentifiers(exp) {\r\n            if (!__BROWSER__) {\r\n                if (isString(exp)) {\r\n                    removeId(exp);\r\n                }\r\n                else if (exp.identifiers) {\r\n                    exp.identifiers.forEach(removeId);\r\n                }\r\n                else if (exp.type === 4 /* SIMPLE_EXPRESSION */) {\r\n                    removeId(exp.content);\r\n                }\r\n            }\r\n        },\r\n        hoist(exp) {\r\n            if (isString(exp))\r\n                exp = createSimpleExpression(exp);\r\n            context.hoists.push(exp);\r\n            const identifier = createSimpleExpression(`_hoisted_${context.hoists.length}`, false, exp.loc, 2 /* CAN_HOIST */);\r\n            identifier.hoisted = exp;\r\n            return identifier;\r\n        },\r\n        cache(exp, isVNode = false) {\r\n            return createCacheExpression(context.cached++, exp, isVNode);\r\n        }\r\n    };\r\n    if (__COMPAT__) {\r\n        context.filters = new Set();\r\n    }\r\n    function addId(id) {\r\n        const { identifiers } = context;\r\n        if (identifiers[id] === undefined) {\r\n            identifiers[id] = 0;\r\n        }\r\n        identifiers[id]++;\r\n    }\r\n    function removeId(id) {\r\n        context.identifiers[id]--;\r\n    }\r\n    return context;\r\n}\r\nexport function transform(root, options) {\r\n    const context = createTransformContext(root, options);\r\n    traverseNode(root, context);\r\n    if (options.hoistStatic) {\r\n        hoistStatic(root, context);\r\n    }\r\n    if (!options.ssr) {\r\n        createRootCodegen(root, context);\r\n    }\r\n    // finalize meta information\r\n    root.helpers = [...context.helpers.keys()];\r\n    root.components = [...context.components];\r\n    root.directives = [...context.directives];\r\n    root.imports = context.imports;\r\n    root.hoists = context.hoists;\r\n    root.temps = context.temps;\r\n    root.cached = context.cached;\r\n    if (__COMPAT__) {\r\n        root.filters = [...context.filters];\r\n    }\r\n}\r\nfunction createRootCodegen(root, context) {\r\n    const { helper } = context;\r\n    const { children } = root;\r\n    if (children.length === 1) {\r\n        const child = children[0];\r\n        // if the single child is an element, turn it into a block.\r\n        if (isSingleElementRoot(root, child) && child.codegenNode) {\r\n            // single element root is never hoisted so codegenNode will never be\r\n            // SimpleExpressionNode\r\n            const codegenNode = child.codegenNode;\r\n            if (codegenNode.type === 13 /* VNODE_CALL */) {\r\n                makeBlock(codegenNode, context);\r\n            }\r\n            root.codegenNode = codegenNode;\r\n        }\r\n        else {\r\n            // - single <slot/>, IfNode, ForNode: already blocks.\r\n            // - single text node: always patched.\r\n            // root codegen falls through via genNode()\r\n            root.codegenNode = child;\r\n        }\r\n    }\r\n    else if (children.length > 1) {\r\n        // root has multiple nodes - return a fragment block.\r\n        let patchFlag = 64 /* STABLE_FRAGMENT */;\r\n        let patchFlagText = PatchFlagNames[64 /* STABLE_FRAGMENT */];\r\n        // check if the fragment actually contains a single valid child with\r\n        // the rest being comments\r\n        if (__DEV__ &&\r\n            children.filter(c => c.type !== 3 /* COMMENT */).length === 1) {\r\n            patchFlag |= 2048 /* DEV_ROOT_FRAGMENT */;\r\n            patchFlagText += `, ${PatchFlagNames[2048 /* DEV_ROOT_FRAGMENT */]}`;\r\n        }\r\n        root.codegenNode = createVNodeCall(context, helper(FRAGMENT), undefined, root.children, patchFlag + (__DEV__ ? ` /* ${patchFlagText} */` : ``), undefined, undefined, true, undefined, false /* isComponent */);\r\n    }\r\n    else {\r\n        // no children = noop. codegen will return null.\r\n    }\r\n}\r\nexport function traverseChildren(parent, context) {\r\n    let i = 0;\r\n    const nodeRemoved = () => {\r\n        i--;\r\n    };\r\n    for (; i < parent.children.length; i++) {\r\n        const child = parent.children[i];\r\n        if (isString(child))\r\n            continue;\r\n        context.parent = parent;\r\n        context.childIndex = i;\r\n        context.onNodeRemoved = nodeRemoved;\r\n        traverseNode(child, context);\r\n    }\r\n}\r\nexport function traverseNode(node, context) {\r\n    context.currentNode = node;\r\n    // apply transform plugins\r\n    const { nodeTransforms } = context;\r\n    const exitFns = [];\r\n    for (let i = 0; i < nodeTransforms.length; i++) {\r\n        const onExit = nodeTransforms[i](node, context);\r\n        if (onExit) {\r\n            if (isArray(onExit)) {\r\n                exitFns.push(...onExit);\r\n            }\r\n            else {\r\n                exitFns.push(onExit);\r\n            }\r\n        }\r\n        if (!context.currentNode) {\r\n            // node was removed\r\n            return;\r\n        }\r\n        else {\r\n            // node may have been replaced\r\n            node = context.currentNode;\r\n        }\r\n    }\r\n    switch (node.type) {\r\n        case 3 /* COMMENT */:\r\n            if (!context.ssr) {\r\n                // inject import for the Comment symbol, which is needed for creating\r\n                // comment nodes with `createVNode`\r\n                context.helper(CREATE_COMMENT);\r\n            }\r\n            break;\r\n        case 5 /* INTERPOLATION */:\r\n            // no need to traverse, but we need to inject toString helper\r\n            if (!context.ssr) {\r\n                context.helper(TO_DISPLAY_STRING);\r\n            }\r\n            break;\r\n        // for container types, further traverse downwards\r\n        case 9 /* IF */:\r\n            for (let i = 0; i < node.branches.length; i++) {\r\n                traverseNode(node.branches[i], context);\r\n            }\r\n            break;\r\n        case 10 /* IF_BRANCH */:\r\n        case 11 /* FOR */:\r\n        case 1 /* ELEMENT */:\r\n        case 0 /* ROOT */:\r\n            traverseChildren(node, context);\r\n            break;\r\n    }\r\n    // exit transforms\r\n    context.currentNode = node;\r\n    let i = exitFns.length;\r\n    while (i--) {\r\n        exitFns[i]();\r\n    }\r\n}\r\nexport function createStructuralDirectiveTransform(name, fn) {\r\n    const matches = isString(name)\r\n        ? (n) => n === name\r\n        : (n) => name.test(n);\r\n    return (node, context) => {\r\n        if (node.type === 1 /* ELEMENT */) {\r\n            const { props } = node;\r\n            // structural directive transforms are not concerned with slots\r\n            // as they are handled separately in vSlot.ts\r\n            if (node.tagType === 3 /* TEMPLATE */ && props.some(isVSlot)) {\r\n                return;\r\n            }\r\n            const exitFns = [];\r\n            for (let i = 0; i < props.length; i++) {\r\n                const prop = props[i];\r\n                if (prop.type === 7 /* DIRECTIVE */ && matches(prop.name)) {\r\n                    // structural directives are removed to avoid infinite recursion\r\n                    // also we remove them *before* applying so that it can further\r\n                    // traverse itself in case it moves the node around\r\n                    props.splice(i, 1);\r\n                    i--;\r\n                    const onExit = fn(node, prop, context);\r\n                    if (onExit)\r\n                        exitFns.push(onExit);\r\n                }\r\n            }\r\n            return exitFns;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=transform.js.map","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/options.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/ast.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/errors.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/runtimeHelpers.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/utils.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/transforms/hoistStatic.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/compat/compatConfig.ts"],"map":"{\"version\":3,\"file\":\"transform.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../packages/compiler-core/src/transform.ts\"],\"names\":[],\"mappings\":\"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\"}"}
