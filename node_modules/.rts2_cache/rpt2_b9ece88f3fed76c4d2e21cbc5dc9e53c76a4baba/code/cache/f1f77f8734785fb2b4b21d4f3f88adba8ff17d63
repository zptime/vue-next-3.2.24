{"code":"const deprecationData = {\r\n    [\"COMPILER_IS_ON_ELEMENT\" /* COMPILER_IS_ON_ELEMENT */]: {\r\n        message: `Platform-native elements with \"is\" prop will no longer be ` +\r\n            `treated as components in Vue 3 unless the \"is\" value is explicitly ` +\r\n            `prefixed with \"vue:\".`,\r\n        link: `https://v3.vuejs.org/guide/migration/custom-elements-interop.html`\r\n    },\r\n    [\"COMPILER_V_BIND_SYNC\" /* COMPILER_V_BIND_SYNC */]: {\r\n        message: key => `.sync modifier for v-bind has been removed. Use v-model with ` +\r\n            `argument instead. \\`v-bind:${key}.sync\\` should be changed to ` +\r\n            `\\`v-model:${key}\\`.`,\r\n        link: `https://v3.vuejs.org/guide/migration/v-model.html`\r\n    },\r\n    [\"COMPILER_V_BIND_PROP\" /* COMPILER_V_BIND_PROP */]: {\r\n        message: `.prop modifier for v-bind has been removed and no longer necessary. ` +\r\n            `Vue 3 will automatically set a binding as DOM property when appropriate.`\r\n    },\r\n    [\"COMPILER_V_BIND_OBJECT_ORDER\" /* COMPILER_V_BIND_OBJECT_ORDER */]: {\r\n        message: `v-bind=\"obj\" usage is now order sensitive and behaves like JavaScript ` +\r\n            `object spread: it will now overwrite an existing non-mergeable attribute ` +\r\n            `that appears before v-bind in the case of conflict. ` +\r\n            `To retain 2.x behavior, move v-bind to make it the first attribute. ` +\r\n            `You can also suppress this warning if the usage is intended.`,\r\n        link: `https://v3.vuejs.org/guide/migration/v-bind.html`\r\n    },\r\n    [\"COMPILER_V_ON_NATIVE\" /* COMPILER_V_ON_NATIVE */]: {\r\n        message: `.native modifier for v-on has been removed as is no longer necessary.`,\r\n        link: `https://v3.vuejs.org/guide/migration/v-on-native-modifier-removed.html`\r\n    },\r\n    [\"COMPILER_V_IF_V_FOR_PRECEDENCE\" /* COMPILER_V_IF_V_FOR_PRECEDENCE */]: {\r\n        message: `v-if / v-for precedence when used on the same element has changed ` +\r\n            `in Vue 3: v-if now takes higher precedence and will no longer have ` +\r\n            `access to v-for scope variables. It is best to avoid the ambiguity ` +\r\n            `with <template> tags or use a computed property that filters v-for ` +\r\n            `data source.`,\r\n        link: `https://v3.vuejs.org/guide/migration/v-if-v-for.html`\r\n    },\r\n    [\"COMPILER_V_FOR_REF\" /* COMPILER_V_FOR_REF */]: {\r\n        message: `Ref usage on v-for no longer creates array ref values in Vue 3. ` +\r\n            `Consider using function refs or refactor to avoid ref usage altogether.`,\r\n        link: `https://v3.vuejs.org/guide/migration/array-refs.html`\r\n    },\r\n    [\"COMPILER_NATIVE_TEMPLATE\" /* COMPILER_NATIVE_TEMPLATE */]: {\r\n        message: `<template> with no special directives will render as a native template ` +\r\n            `element instead of its inner content in Vue 3.`\r\n    },\r\n    [\"COMPILER_INLINE_TEMPLATE\" /* COMPILER_INLINE_TEMPLATE */]: {\r\n        message: `\"inline-template\" has been removed in Vue 3.`,\r\n        link: `https://v3.vuejs.org/guide/migration/inline-template-attribute.html`\r\n    },\r\n    [\"COMPILER_FILTER\" /* COMPILER_FILTERS */]: {\r\n        message: `filters have been removed in Vue 3. ` +\r\n            `The \"|\" symbol will be treated as native JavaScript bitwise OR operator. ` +\r\n            `Use method calls or computed properties instead.`,\r\n        link: `https://v3.vuejs.org/guide/migration/filters.html`\r\n    }\r\n};\r\nfunction getCompatValue(key, context) {\r\n    const config = context.options\r\n        ? context.options.compatConfig\r\n        : context.compatConfig;\r\n    const value = config && config[key];\r\n    if (key === 'MODE') {\r\n        return value || 3; // compiler defaults to v3 behavior\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\r\nexport function isCompatEnabled(key, context) {\r\n    const mode = getCompatValue('MODE', context);\r\n    const value = getCompatValue(key, context);\r\n    // in v3 mode, only enable if explicitly set to true\r\n    // otherwise enable for any non-false value\r\n    return mode === 3 ? value === true : value !== false;\r\n}\r\nexport function checkCompatEnabled(key, context, loc, ...args) {\r\n    const enabled = isCompatEnabled(key, context);\r\n    if (__DEV__ && enabled) {\r\n        warnDeprecation(key, context, loc, ...args);\r\n    }\r\n    return enabled;\r\n}\r\nexport function warnDeprecation(key, context, loc, ...args) {\r\n    const val = getCompatValue(key, context);\r\n    if (val === 'suppress-warning') {\r\n        return;\r\n    }\r\n    const { message, link } = deprecationData[key];\r\n    const msg = `(deprecation ${key}) ${typeof message === 'function' ? message(...args) : message}${link ? `\\n  Details: ${link}` : ``}`;\r\n    const err = new SyntaxError(msg);\r\n    err.code = key;\r\n    if (loc)\r\n        err.loc = loc;\r\n    context.onWarn(err);\r\n}\r\n//# sourceMappingURL=compatConfig.js.map","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/ast.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/errors.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/parse.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/compiler-core/src/transform.ts"],"map":"{\"version\":3,\"file\":\"compatConfig.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../packages/compiler-core/src/compat/compatConfig.ts\"],\"names\":[],\"mappings\":\"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\"}"}
