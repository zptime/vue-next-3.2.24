{"code":"import { camelize, extend, hyphenate, isArray, isObject, isReservedProp, normalizeClass } from '@vue/shared';\r\nimport { createSlots } from '../helpers/createSlots';\r\nimport { renderSlot } from '../helpers/renderSlot';\r\nimport { toHandlers } from '../helpers/toHandlers';\r\nimport { mergeProps } from '../vnode';\r\nfunction toObject(arr) {\r\n    const res = {};\r\n    for (let i = 0; i < arr.length; i++) {\r\n        if (arr[i]) {\r\n            extend(res, arr[i]);\r\n        }\r\n    }\r\n    return res;\r\n}\r\nexport function legacyBindObjectProps(data, _tag, value, _asProp, isSync) {\r\n    if (value && isObject(value)) {\r\n        if (isArray(value)) {\r\n            value = toObject(value);\r\n        }\r\n        for (const key in value) {\r\n            if (isReservedProp(key)) {\r\n                data[key] = value[key];\r\n            }\r\n            else if (key === 'class') {\r\n                data.class = normalizeClass([data.class, value.class]);\r\n            }\r\n            else if (key === 'style') {\r\n                data.style = normalizeClass([data.style, value.style]);\r\n            }\r\n            else {\r\n                const attrs = data.attrs || (data.attrs = {});\r\n                const camelizedKey = camelize(key);\r\n                const hyphenatedKey = hyphenate(key);\r\n                if (!(camelizedKey in attrs) && !(hyphenatedKey in attrs)) {\r\n                    attrs[key] = value[key];\r\n                    if (isSync) {\r\n                        const on = data.on || (data.on = {});\r\n                        on[`update:${key}`] = function ($event) {\r\n                            value[key] = $event;\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n}\r\nexport function legacyBindObjectListeners(props, listeners) {\r\n    return mergeProps(props, toHandlers(listeners));\r\n}\r\nexport function legacyRenderSlot(instance, name, fallback, props, bindObject) {\r\n    if (bindObject) {\r\n        props = mergeProps(props, bindObject);\r\n    }\r\n    return renderSlot(instance.slots, name, props, fallback && (() => fallback));\r\n}\r\nexport function legacyresolveScopedSlots(fns, raw, \r\n// the following are added in 2.6\r\nhasDynamicKeys) {\r\n    // v2 default slot doesn't have name\r\n    return createSlots(raw || { $stable: !hasDynamicKeys }, mapKeyToName(fns));\r\n}\r\nfunction mapKeyToName(slots) {\r\n    for (let i = 0; i < slots.length; i++) {\r\n        const fn = slots[i];\r\n        if (fn) {\r\n            if (isArray(fn)) {\r\n                mapKeyToName(fn);\r\n            }\r\n            else {\r\n                ;\r\n                fn.name = fn.key || 'default';\r\n            }\r\n        }\r\n    }\r\n    return slots;\r\n}\r\nconst staticCacheMap = /*#__PURE__*/ new WeakMap();\r\nexport function legacyRenderStatic(instance, index) {\r\n    let cache = staticCacheMap.get(instance);\r\n    if (!cache) {\r\n        staticCacheMap.set(instance, (cache = []));\r\n    }\r\n    if (cache[index]) {\r\n        return cache[index];\r\n    }\r\n    const fn = instance.type.staticRenderFns[index];\r\n    const ctx = instance.proxy;\r\n    return (cache[index] = fn.call(ctx, null, ctx));\r\n}\r\nexport function legacyCheckKeyCodes(instance, eventKeyCode, key, builtInKeyCode, eventKeyName, builtInKeyName) {\r\n    const config = instance.appContext.config;\r\n    const configKeyCodes = config.keyCodes || {};\r\n    const mappedKeyCode = configKeyCodes[key] || builtInKeyCode;\r\n    if (builtInKeyName && eventKeyName && !configKeyCodes[key]) {\r\n        return isKeyNotMatch(builtInKeyName, eventKeyName);\r\n    }\r\n    else if (mappedKeyCode) {\r\n        return isKeyNotMatch(mappedKeyCode, eventKeyCode);\r\n    }\r\n    else if (eventKeyName) {\r\n        return hyphenate(eventKeyName) !== key;\r\n    }\r\n}\r\nfunction isKeyNotMatch(expect, actual) {\r\n    if (isArray(expect)) {\r\n        return expect.indexOf(actual) === -1;\r\n    }\r\n    else {\r\n        return expect !== actual;\r\n    }\r\n}\r\nexport function legacyMarkOnce(tree) {\r\n    return tree;\r\n}\r\nexport function legacyBindDynamicKeys(props, values) {\r\n    for (let i = 0; i < values.length; i += 2) {\r\n        const key = values[i];\r\n        if (typeof key === 'string' && key) {\r\n            props[values[i]] = values[i + 1];\r\n        }\r\n    }\r\n    return props;\r\n}\r\nexport function legacyPrependModifier(value, symbol) {\r\n    return typeof value === 'string' ? symbol + value : value;\r\n}\r\n//# sourceMappingURL=renderHelpers.js.map","references":["/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/shared/src/index.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/component.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/componentSlots.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/helpers/createSlots.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/helpers/renderSlot.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/helpers/toHandlers.ts","/Users/zhangpian/Documents/projects/github/vue-next-3.2.24/packages/runtime-core/src/vnode.ts"],"map":"{\"version\":3,\"file\":\"renderHelpers.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../packages/runtime-core/src/compat/renderHelpers.ts\"],\"names\":[],\"mappings\":\"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\"}"}
